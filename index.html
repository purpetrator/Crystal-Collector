<!DOCTYPE html>
<html lang="en">

<head>
    <title>JQuery Game</title>
    <!-- Link to Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Luckiest+Guy|Pacifico&display=swap" rel="stylesheet">

    <!-- Link to the jQuery Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Link to external stylesheet-->
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>

    <!-- HTML starts here -->

    <div id="heading">
        Crystals Collector
    </div>

    <div id="maindiv">
        <div id="instructions">
            <p>You will be given a random number at the start of the game.</p>
            <p>There are four crystals below. By clicking on a crystal you will add a specific amount of points to your
                total score.</p>
            <p>You win the game by matching your total score to the random number. You lose the game if your total score
                goes above the random number.</p>
            <p>The value of each crystal is hidden from you until you click on it.</p>
            <p>Each time when the game starts, the game will change the values of each crystal.</p>
        </div>
        <div id="wins-losses">
            <br><br>
            <p>Wins: <span id="wins-text">0</span></p>
            <p>Losses: <span id="losses-text">0</span></p>
        </div>
    </div>

    <div id="main">
        <div id="random-number">Goal Number: <span id="goal-number"></span></div>

        <div class="crystals">
            <img src="assets/images/crystal1.jpg" id="crystal1" class="crystal-image" />
            <img src="assets/images/crystal2.jpg" id="crystal2" class="crystal-image" />
            <img src="assets/images/crystal3.jpg" id="crystal3" class="crystal-image" />
            <img src="assets/images/crystal4.jpg" id="crystal4" class="crystal-image" />
        </div>

        <div id="your-score">
            <p>Your total score is: <span id="score"></span></p>
        </div>


    </div>


    <!-- JQuery starts here -->
    <script type="text/javascript">

        var totalScore = 0;
        var wins = 0;
        var losses = 0;
        var targetNumber = 0;


        function randomizingFunction() {
            // This will randomly choose targetNumber (between 19 and 120) and set it to our targetNumber
            var random = Math.floor(Math.random() * 120) + 19;
            console.log("Random number:" + random);
            targetNumber = random;

            // Assign random numbers to crystals
            var ranCrystal1 = Math.floor(Math.random() * 12) + 1;

            var ranCrystal2 = Math.floor(Math.random() * 12) + 1;

            var ranCrystal3 = Math.floor(Math.random() * 12) + 1;

            var ranCrystal4 = Math.floor(Math.random() * 12) + 1;

            totalScore = 0;

            // This is getting the span of the Goal Number and setting it to the text of the variable
            $("#goal-number").text(targetNumber);
            $("#score").text(totalScore);

            $("#crystal1").attr("value", ranCrystal1);
            $("#crystal2").attr("value", ranCrystal2);
            $("#crystal3").attr("value", ranCrystal3);
            $("#crystal4").attr("value", ranCrystal4);
        }

        randomizingFunction();



        function winCondition() {
            // Setting up a WIN: If total score matches the goal number, you are alerted of a win
            if (totalScore === targetNumber) {

                ////
                alert("You win!");
                wins += 1;
                $("#wins-text").empty().append(wins);
                randomizingFunction();
            }
            else if (totalScore >= targetNumber) {

                // Then they are alerted with a loss.
                alert("You lose!!");
                losses += 1;
                $("#losses-text").empty().append(losses);
                randomizingFunction();
            }

        }

        // Creating an on-click event that responds when user clicks a crystal
        $(document).on("click", ".crystal-image", function () {

            console.log($(this).attr("value"));
            totalScore += parseInt($(this).attr("value"));

            console.log(totalScore);

            // Replace score span with updated total score
            $("#score").text(totalScore);

            winCondition();
        });





// Computer generates random number between 19 and 120
// Each crystal is assigned a random number between 1 and 12
// When user clicks a crystal, it adds that assigned amount to the TOTAL SCORE
// Win: 
// Loss: 
// Restart: 









    </script>


</body>

</html>